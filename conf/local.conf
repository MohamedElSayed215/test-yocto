# Enable UTF-8 locale
ENABLE_UART = "1"
MACHINE = "raspberrypi4"

# Use systemd as init system
DISTRO_FEATURES_remove = "x11 wayland"
DISTRO_FEATURES_append = " systemd bluetooth wifi virtual/kernel opengl docker"
VIRTUAL-RUNTIME_init_manager = "systemd"

# Enable SSH server
DISTRO_FEATURES_append = " ssh-server-openssh"

# Packages to install in image
IMAGE_INSTALL_append = " \
  python3 \
  nano \
  openssh-sftp-server \
  libcamera \
  gstreamer1.0 \
  gstreamer1.0-plugins-base \
  gstreamer1.0-plugins-good \
  gstreamer1.0-plugins-bad \
  gstreamer1.0-plugins-base-apps \
  docker \
  docker-cli \
"

# Accept licenses if any package has restricted license
LICENSE_FLAGS_ACCEPTED = "commercial"

# Allow sshd root login (optional, be cautious)
# EXTRA_IMAGE_FEATURES += "ssh-server-dropbear"

# Serial console enable (optional)
SERIAL_CONSOLE = "115200 ttyAMA0"

# Other customizations here
