# This file sets the local build configuration options

MACHINE ?= "raspberrypi4"

# Accept commercial licenses for packages like gstreamer1.0-plugins-ugly
LICENSE_FLAGS_ACCEPTED += "commercial"

# Enable parallel build jobs (adjust number to runner cores)
BB_NUMBER_THREADS ?= "4"
PARALLEL_MAKE ?= "-j 4"

# Enable SSH server
DISTRO_FEATURES_append = " ssh-server-openssh"

# Add packages you want in your image
IMAGE_INSTALL_append = " python3 nano docker gstreamer1.0 gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-ugly libcamera"

# Enable systemd as init manager (optional but common for raspberrypi)
DISTRO_FEATURES_BACKFILL_CONSIDERED += "sysvinit"
VIRTUAL-RUNTIME_init_manager = "systemd"

# Other recommended features
DISTRO_FEATURES_append = " systemd"

# Uncomment if you want to enable debug symbols for troubleshooting
# DEBUG_BUILD = "1"
